<section id="checkout">
  <div id="main">
    <pre style="width: 100%; height: 250px; overflow: scroll; padding: 16px; border: 1px solid gray;">{{ (cart$ | async) | json }}</pre>
    <mat-tab-group>
      <mat-tab label="review license">
        <h3>Review Contract</h3>
        <h4>General Rules</h4>
        <p></p>
        <h4>The License</h4>
        <p></p>
        <button mat-raised-button (click)="agreeToContract()">Agree and Continue</button>
      </mat-tab>
      <mat-tab label="about you">
        <h3>Almost there...</h3>
        <button mat-raised-button (click)="confirmDetails()">Confirm and Continue</button>
      </mat-tab>
      <mat-tab label="confirm and pay"></mat-tab>
    </mat-tab-group>
  </div>
  <aside>
    <div class="booking-cart">
      <mat-accordion displayMode="flat">
        <ng-container *ngFor="let cartItem of (cart$ | async)">
          <mat-expansion-panel *ngIf="spaces[cartItem.spaceId]">
            <mat-expansion-panel-header>
              {{ spaces[cartItem.spaceId].title }}
            </mat-expansion-panel-header>

            <!-- {{ cartItem | json }} -->
            <pre style="height: 120px; overflow: scroll">{{ spaces[cartItem.spaceId] | json }}</pre>


            <mat-action-row>
              <button mat-button type="button" color="warn" (click)="removeItem(cartItem)">Remove</button>
            </mat-action-row>
          </mat-expansion-panel>
        </ng-container>
      </mat-accordion>

      <table class="price-breakdown">
        <tbody>
          <tr>
            <td>Accomodation</td>
            <td>$5,571</td>
          </tr>
          <tr>
            <td>15% monthly price discount</td>
            <td>-$836</td>
          </tr>
          <tr>
            <td>Cleaning fee</td>
            <td>$82</td>
          </tr>
          <tr>
            <td>Service fee</td>
            <td>$302</td>
          </tr>
          <tr>
            <td><strong>Total</strong> AUD</td>
            <td><strong>$5,119</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
  </aside>
</section>
