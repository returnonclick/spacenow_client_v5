
<form [formGroup]="exceptionForm.controls.availability" (ngSubmit)="onSubmit()">

  <div class="exception">
    <div class="title">
      <span style="font-size: 60px">Dates Closed</span>
    </div>
    <div class="content">

      <div fxLayout="row" fxLayoutWrap="wrap" fxLayoutAlign="space-between start">
        <mat-form-field fxFlex="20%" fxFlex.lt-md="40%">
          <input matInput readonly [matDatepicker]="picker" placeholder="From" formControlName="fromDate" required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <div fxFlex="20%" fxFlex.lt-md="10%" style="margin-top: 20px"><span>to</span></div>
        <mat-form-field fxFlex="20%" fxFlex.lt-md="40%">
          <input matInput readonly [matDatepicker]="pickerTo" placeholder="To" formControlName="toDate" [min]="exceptionForm.value.availability.fromDate">
          <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
          <mat-datepicker #pickerTo></mat-datepicker>
        </mat-form-field>

        <mat-form-field fxFlex="30%" fxFlex.lt-md="80%">
          <input matInput formControlName="note" placeholder="Note" maxlength="30">
        </mat-form-field>

        <button mat-button class="add-button" 
                (click)="addExceptionDate()" 
                type="button" 
                fxFlex="10%" 
                fxFlex.lt-md="20%"
                [disabled]="exceptionForm.controls.availability.invalid">
          Add
        </button>
      </div>
    
      <!-- Show list of added exceptions -->
      <div style="margin-top: 30px">
        <div *ngFor="let day of exceptionDays" fxLayout="row" fxLayoutWrap="wrap" fxLayoutAlign="space-between start">

          <span fxFlex="20%" class="dates-background"> {{day.fromDate | date: 'd MMMM, yyyy'}}</span>

          <div xFlex="20%"><span>to</span></div>

          <span fxFlex="20%" class="dates-background"> {{day.toDate | date: 'd MMMM, yyyy'}}</span>
        
          <span fxFlex="30%" >{{ day.note }}</span>

          <button fxFlex="10%"  mat-icon-button (click)="deleteExceptionDay(day)" type="button">
            <mat-icon style="color: #6cde93;">delete_forever</mat-icon>
          </button>

        </div>
      </div> 

    </div>
    <div class="actions">
      <button mat-raised-button type="submit" class="next-button"> 
          Continue 
      </button>
      <button mat-button type="button" class="back-button" (click)="back()"> 
            Back 
      </button>
    </div>
  </div>
  
</form>
