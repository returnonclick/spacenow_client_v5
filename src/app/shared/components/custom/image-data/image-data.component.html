<div class="dropzone" 
     dropZone
     (hovered)="toggleHover($event)"
     (dropped)="startUpload($event)"
     [class.hovering]="isHovering">
     <h3>AngularFire Drop Zone</h3>
     <div class="file">
        <label class="file-label">
        <input class="file-input" type="file" (change)="startUpload($event.target.files)">
          <span class="file-cta">
            <span class="file-icon">
              <i class="fa fa-upload"></i>
            </span>
            <span class="file-label">
              or choose a fileâ€¦
            </span>
          </span>
        </label>
      </div>
</div>

<div *ngIf="percentage | async as pct">
  <progress class="progress is-info" 
            [value]="pct" 
            max="100">        
  </progress>
  {{ pct | number }}%
</div>
<div *ngIf="snapshot | async as snap">
  {{ snap.bytesTransferred | fileSize }} of {{ snap.totalBytes | fileSize }} 
  <div *ngIf="downloadURL | async as url">
    <h3>Results!</h3>
    <img [src]="url"><br>
    <a [href]="url" target="_blank" rel="noopener">Download Me!</a>
  </div> 
  <button (click)="task.pause()" class="button is-warning" [disabled]="!isActive(snap)">Pause</button>
  <button (click)="task.cancel()" class="button is-danger" [disabled]="!isActive(snap)">Cancel</button>
  <button (click)="task.resume()" class="button is-info"   [disabled]="!(snap?.state === 'paused')">Resume</button>
</div>



















<!--


<div class="inbox-compose">
  
  
  
  
  
  
  
  
  
  
  
  
  <div mat-dialog-content fxLayout="row" fxLayoutAlign="space-between center">
    <span>Upload {{ data.type }}</span>
    <button mat-mini-fab matDialogClose mat-icon-button>
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div *ngIf="picture">

      <mat-progress-bar
      class="example-margin"
      [color]="primary"
      [mode]="determinate"
      [value]="picture?.progress">
      </mat-progress-bar>

    <div class="progress" style="margin-bottom: 0;">
      <div class="progress-bar progress-bar-animated" [ngStyle]="{ 'width': picture?.progress + '%' }"></div>
    </div>
    Progress: {{picture?.name}} | {{picture?.progress}}% Complete
  </div>

  <label>
    <input type="file" (change)="detectFiles($event)">
  </label>

  <div NgDropFiles
       [picture]="picture"
       class="well drop-zone">
    <h4>Drop your picture here</h4>
    <img src="/assets/images/drop-images.png"/>
  </div>

  <div class="content" mat-dialog-content>

  </div>
  <div mat-dialog-actions fxLayout="row">
    <button matDialogClose mat-icon-button>
      <mat-icon>delete</mat-icon>
    </button>
    
  <div mat-dialog-actions fxLayout="row">
    <span fxFlex></span>
    <button (click)="uploadImageToFirebase()" class="send" mat-raised-button color="primary">
      Upload <mat-icon>upload</mat-icon>
    </button>
  </div>

</div>
-->